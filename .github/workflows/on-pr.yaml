name: Pull Request

on:
  pull_request:
    branches:
      - master

# Cancel the previous workflow run if a new one is triggered
concurrency:
  group: ${{ github.head_ref || github.ref_name }}-pr
  cancel-in-progress: true

jobs:

  unit-tests:
    uses: ./.github/workflows/unit-tests.yaml
    secrets: inherit

  code-coverage-scan:
    uses: ./.github/workflows/code-coverage-scan.yaml
    secrets: inherit

  test-docker-build:
    uses: ./.github/workflows/test-docker-build.yaml
    secrets: inherit
